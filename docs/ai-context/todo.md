# 작업 목록 (To-Do)

## 초기 설정
- [x] AI 컨텍스트 파일 생성 (`status.md`, `todo.md`, `decision_log.md`)
- [ ] 백엔드 기본 서버 실행 및 헬스 체크 확인
- [ ] 프론트엔드 빌드 및 백엔드 임베딩 동작 확인

## 기능 구현 / 버그 수정
- [x] 디렉토리 트리 중복 노출 및 `/dev` 무한 증식 버그 수정
- [x] 디렉토리 트리 확장(`>`) 불능 버그 수정
- [x] Google Drive 스타일 파일 탐색 GUI 구현
- [x] 파일 브라우징 상세 정보(크기, 날짜) 연동
- [x] 폴더 간 내비게이션(Breadcrumb, 더블 클릭 이동) 구현
- [x] Space 클릭 시 해당 디렉토리로 파일 브라우저 이동 연동
- [x] Space와 FolderTree 통합 트리 구조 구현
- [x] Serena MCP 사용 규칙 문서화 (CLAUDE.md)
- [x] 코드 품질 개선 (린트 에러, 중복 코드 제거)
- [x] 문서 구조 통합 (master_rule.md로 모든 규칙 통합)
- [x] Playwright MCP 테스트 절차 추가
- [x] 실행 환경 문서화 (AGENTS.md 생성)
- [x] Space 상대 경로 Breadcrumb 표시 (UX 개선)
- [x] Space 삭제 기능 (Context Menu)
- [x] 파일 표시 버그 수정 (폴더만 표시되던 문제 해결)
- [x] 파일 다운로드 기능 구현
- [x] Space 경로 보안 강화 (Space 외부 경로 접근 차단)
- [x] 파일/폴더 우클릭 컨텍스트 메뉴 구현
- [x] 상위 폴더 버튼 제거 (Breadcrumb만 사용)
- [x] 파일/폴더 이름 변경 기능 (백엔드 API + 모달)
- [x] 파일/폴더 삭제 기능 (백엔드 API + 확인 모달)
- [x] 다운로드를 우클릭 메뉴로만 가능하도록 변경
- [x] 파일 업로드 (Drag & Drop)
- [x] 레이아웃 여백 16px 기준 일괄 통일 (8-grid 준수)
- [x] 서버 상태 표시 개선 (popover 위치, 호스트/포트/경로 표시) (#13)
- [x] WebDAV 루트 디렉토리 가상 Space 목록 노출 (#14)
- [x] 사이드바 트리 노드 증식 버그 수정 (#17)
- [x] 컨텍스트 메뉴 UI 개선 — Ant Design Dropdown 전환 (#19)
- [x] 새 폴더 만들기 기능 (빈 영역 우클릭)
- [x] 파일/폴더 다중 선택 기능 (Ctrl/Cmd/Shift 클릭)
- [x] 선택 시 상단 툴바 표시 (다운로드, 복사, 이동, 삭제)
- [x] 다중 파일 다운로드 (ZIP)
- [x] 싱글/멀티 다운로드 분기 (단일 파일 원본 다운로드, 다중 선택 ZIP)
- [x] 파일 복사/이동 기능 (DestinationPickerModal)
- [x] 다중 삭제 기능
- [x] 정렬 옵션 추가 (폴더 우선 + 이름/수정일/크기 정렬)
- [x] 드래그 앤 드롭 파일 이동 (Google Drive 스타일)
- [x] **Zustand 전역 상태 관리 도입** (완료)
  - [x] Phase 1: Theme Store (localStorage persist)
  - [x] Phase 2: Context Menu Store (ContextMenuContext 제거)
  - [x] Phase 3: Space Store (Props drilling 제거, CRUD actions)
  - [x] Phase 4: Browse Store (파일 탐색 경로, 컨텐츠)
- [ ] **FolderContent.tsx 리팩토링** (진행 중)
  - [x] Phase 1: constants.ts, types.ts, hooks 생성
  - [x] Phase 2: Modal 상태 관리 통합 (useModalManager)
  - [x] Phase 3: 정렬 로직 분리 (useSortedContent)
  - [x] Phase 4: 검증 및 테스트 (`lint/build/go test` 기준)
- [x] 박스 선택 버그 수정 (익스플로러 바깥 동작, 다중선택 안 됨)
- [x] 박스 선택 기능 사용자 테스트 및 검증
- [x] 박스 선택 후 선택 해제 버그 수정
- [x] Settings 페이지 TypeScript 타입 오류 수정 (implicit any 10개)
- [x] 박스 선택 누적 기능 구현 (스크롤 시 선택 유지) (#25)
- [x] Grid 뷰 이미지 썸네일 표시 기능 (ImageThumbnail 컴포넌트, fileTypeUtils)
- [x] 이동/복사 모달 Space 트리 구조 개선 (모든 Space 표시)
- [x] 이동/복사 모달 폴더 선택 시 선택 해제 버그 수정 (Portal 이벤트 버블링 차단)
- [ ] 검색 기능
- [ ] 텍스트 파일 미리보기
- [x] 파일 작업(복사/이동/삭제/이름변경/폴더생성) 후 트리 자동 invalidate 반영
- [x] 트리 targeted invalidation 최적화 (영향 노드만 부분 갱신) (#35)
- [x] 실행 환경 문서 위치 정리 (`docs/AGENTS.md` → `AGENTS.md`)
- [x] Folder Explorer Grid 자동 컬럼 배치(auto-fit/minmax) 및 가로 스크롤 억제 레이아웃 적용
- [x] antd 정적 message/Modal 경고 제거 (`App.useApp` 전환, Settings `App` 프로바이더 추가)
- [x] Space 생성 모달 이름/설명 입력 가능 상태 개선 및 설명(`space_desc`) 저장 연동
- [x] Table 뷰 스크롤 복구 (하단 항목 접근 가능)
- [x] Status 팝오버 웹 접근 기준 표기 개선 (`/api` 표기 제거, WEB 접근 주소 표시)
- [x] Status WEB 접근 주소 계산 책임 분리 (백엔드 하드코딩 제거, 프론트 origin 기준)
- [x] Status WEB 포트 표시 복원 (프론트 origin 기반 포트 표기)
- [x] Status 웹 접근 주소 다중 노출 복원 (localhost + LAN IP, 웹 포트 기준)
- [x] Main 네비게이션 Drawer 도입 (모바일 기본 + 데스크톱 병행)
- [x] 모바일 Grid(앨범) 2열 기본화 + 헤더 테마 토글 제거(설정으로 단일화)
- [x] 모바일 폴더 단일 탭 진입 적용 (더블클릭 의존 제거)
- [x] 모바일 롱프레스 선택모드 전환 + 멀티선택 UX 적용
- [x] 모바일 내부 드래그 이동 비활성화 (폴더/파일 끌어 이동 차단)
- [x] PC Grid 박스선택을 실시간 교차 모드로 전환 (#60)
- [x] 업로드/설정 버튼을 아이콘 전용 UI로 전환
- [x] 트리 메뉴 확장 아이콘을 화살표에서 폴더 상태 아이콘으로 전환
- [x] 모바일 선택 툴바 위치를 하단에서 상단으로 이동
- [x] 모바일 선택 툴바 단순화 (`:`/액션시트 제거, 복사/다운로드 툴바 직접 배치, 삭제 우측 정렬)
- [x] 모바일 선택모드에서 상단 헤더를 선택 전용 툴바로 전환
- [x] PC/모바일 이동 아이콘(`drive_file_move`) 일원화
- [x] PC 모달 오픈 상태에서 배경 클릭 시 선택 변경 버그 수정 (박스선택 전역 이벤트 차단)
- [x] 파일 목록 스크롤바 경량 스타일 적용 (네이티브 유지 + 얇은 thumb 테마, 커스텀 인디케이터 제거)
- [x] Grid 레이아웃을 남는 가로 영역까지 채우도록 조정 (`auto-fill + minmax(172px, 1fr)`)
- [x] Main/Settings 헤더·사이드 레이아웃 공통 클래스(`layout-*`) 도입 및 적용
- [x] Settings 공통 컴포넌트(`SettingSectionHeader`, `SettingRow`) 도입
- [x] 공통 헤더 컴포넌트(`HeaderBrand`, `HeaderGroup`) 도입 및 메인/세팅 적용
- [x] Settings 잔여 인라인 스타일(`Select/Divider/InputNumber/Alert`) 공통 클래스화
- [x] MainLayout/MainSider 잔여 인라인 스타일 공통 클래스화 (`layout-content-scroll-hidden`, `layout-sider-title`)
- [x] FTP 서버 1차 구현 (Space 가상 루트, start/stop lifecycle, status 연동) (#70)
- [x] 계정 관리 1차 백엔드 구현 (admin/user + Space 권한 + FTP 인증/권한 연동) (#72)
